# =============================================================================
# TestBoost Environment Configuration
# =============================================================================
# Copy this file to .env and update the values for your environment.
# Required variables are marked with [REQUIRED], optional with [OPTIONAL].
#
# Documentation: See README.md for detailed setup instructions.
# =============================================================================

# -----------------------------------------------------------------------------
# DATABASE CONFIGURATION
# -----------------------------------------------------------------------------
# PostgreSQL connection string using asyncpg driver for async operations.
# Format: postgresql+asyncpg://USER:PASSWORD@HOST:PORT/DATABASE
#
# [REQUIRED] The application will not start without a valid database connection.
#
# Default port is 5433 (not standard 5432) to avoid conflicts with other PostgreSQL instances.
# If using Docker Compose, the postgres service is pre-configured with these credentials.
#
# Examples:
#   Local Docker:     postgresql+asyncpg://testboost:testboost@localhost:5433/testboost
#   Remote server:    postgresql+asyncpg://user:password@db.example.com:5432/testboost
#   With SSL:         postgresql+asyncpg://user:password@host:5432/testboost?ssl=require
DATABASE_URL=postgresql+asyncpg://testboost:testboost@localhost:5433/testboost

# -----------------------------------------------------------------------------
# API SERVER CONFIGURATION
# -----------------------------------------------------------------------------
# Configuration for the FastAPI REST API server.

# [REQUIRED] API key for authenticating requests to protected endpoints.
# Generate a secure random key for production use.
# Example: openssl rand -hex 32
API_KEY=your-api-key-here

# [OPTIONAL] Host address to bind the API server.
# Use 0.0.0.0 to accept connections from any interface (required for Docker).
# Use 127.0.0.1 to only accept local connections.
# Default: 0.0.0.0
API_HOST=0.0.0.0

# [OPTIONAL] Port number for the API server.
# Default: 8000
# API docs available at http://localhost:8000/docs
API_PORT=8000

# -----------------------------------------------------------------------------
# LLM PROVIDER CONFIGURATION
# -----------------------------------------------------------------------------
# TestBoost requires at least ONE LLM provider configured for AI-powered workflows.
# The application validates LLM connectivity on startup and fails within 5 seconds
# if no provider is accessible (Zero Complaisance principle).
#
# Supported providers: Google Gemini (recommended), Anthropic Claude, OpenAI GPT

# [REQUIRED] Primary LLM model identifier.
# Format: provider/model-name
#
# Recommended models by provider:
#   Google:    google-genai/gemini-2.5-flash-preview-09-2025 (default, fast & cost-effective)
#              google-genai/gemini-2.5-pro-preview-09-2025 (more capable, higher cost)
#   Anthropic: anthropic/claude-3-5-sonnet-20241022
#   OpenAI:    openai/gpt-4o
MODEL=google-genai/gemini-2.5-flash-preview-09-2025

# [CONDITIONAL] Google AI API key - Required if using google-genai models.
# Get your key at: https://makersuite.google.com/app/apikey
# The Gemini API offers a generous free tier for development.
GOOGLE_API_KEY=your-google-api-key

# [CONDITIONAL] Anthropic API key - Required if using anthropic models.
# Get your key at: https://console.anthropic.com/settings/keys
ANTHROPIC_API_KEY=your-anthropic-api-key

# [CONDITIONAL] OpenAI API key - Required if using openai models.
# Get your key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=your-openai-api-key

# -----------------------------------------------------------------------------
# LANGSMITH OBSERVABILITY (Optional)
# -----------------------------------------------------------------------------
# LangSmith provides tracing, debugging, and monitoring for LLM workflows.
# Highly recommended for production deployments to track agent behavior.
# Sign up at: https://smith.langchain.com/

# [OPTIONAL] LangSmith API key for workflow tracing.
# Leave empty to disable LangSmith integration.
LANGSMITH_API_KEY=your-langsmith-api-key

# [OPTIONAL] LangSmith project name for organizing traces.
# All workflow traces will be grouped under this project.
# Default: testboost
LANGSMITH_PROJECT=testboost

# [OPTIONAL] Enable or disable LangSmith tracing.
# Set to 'false' to disable tracing even with a valid API key.
# Values: true, false
# Default: true (if API key is provided)
LANGSMITH_TRACING=true

# -----------------------------------------------------------------------------
# APPLICATION SETTINGS
# -----------------------------------------------------------------------------
# General application behavior configuration.

# [OPTIONAL] Logging verbosity level.
# Levels: DEBUG, INFO, WARNING, ERROR, CRITICAL
# - DEBUG: Detailed information for diagnosing problems
# - INFO: General operational information (recommended for production)
# - WARNING: Unexpected situations that don't prevent operation
# - ERROR: Serious problems that prevented specific operations
# - CRITICAL: System-wide failures
# Default: INFO
LOG_LEVEL=INFO

# [OPTIONAL] Enable debug mode for development.
# When true: enables hot-reload, detailed error pages, and verbose logging.
# WARNING: Never enable in production - exposes sensitive information.
# Values: true, false
# Default: false
DEBUG=false

# -----------------------------------------------------------------------------
# SESSION MANAGEMENT
# -----------------------------------------------------------------------------
# Configuration for workflow session lifecycle and concurrency control.

# [OPTIONAL] Number of days to retain completed sessions before cleanup.
# Sessions older than this will be eligible for automatic cleanup.
# Set to 0 to disable automatic cleanup (retain indefinitely).
# Default: 365 (1 year)
SESSION_RETENTION_DAYS=365

# [OPTIONAL] Maximum time in seconds a project can be locked for exclusive access.
# Project locks prevent concurrent workflow execution on the same project.
# After timeout, the lock is automatically released.
# Default: 3600 (1 hour)
PROJECT_LOCK_TIMEOUT_SECONDS=3600

# -----------------------------------------------------------------------------
# DOCKER INTEGRATION
# -----------------------------------------------------------------------------
# Configuration for Docker deployment workflows.

# [OPTIONAL] Docker daemon socket or TCP address.
# For Linux/macOS (socket): unix:///var/run/docker.sock
# For Windows (named pipe): npipe:////./pipe/docker_engine
# For remote Docker: tcp://docker-host:2375
# Default: unix:///var/run/docker.sock
DOCKER_HOST=unix:///var/run/docker.sock

# [OPTIONAL] Directory path for caching Maven dependencies.
# This cache is mounted into Docker containers during builds to speed up
# subsequent builds. Ensure the path exists and is writable.
# Default: /tmp/maven-cache
MAVEN_CACHE_PATH=/tmp/maven-cache
